## Webpack 是做什麼用的？可以不用它嗎？

#### Webpack 是做什麼用的？

webpack 是模組整合的工具，可以將模組化的程式碼打包並讓其能在瀏覽器上運行，解決瀏覽器不支援某些語法的困擾，並將檔案壓縮。

引入模組的方式在 Node.js 上及瀏覽器上所使用的語法不同，有時候不同瀏覽器也會不支援某些語法，因此在實際運用的時候有時會有以下狀況出現 : 

- `module.exports` / `require` : Node.js 所支援的模組引入引出的語法，但瀏覽器原生不支援
- `export` / `import` : ES6 語法，在 index.html 引入 Javascript 時必須在 <script> 標籤加上 `type='module'`  才能使用，但必須注意的是仍然有部分瀏覽器不支援。

webpack 由於是模組整合的工具，其強大好用之處便是可以在撰寫原始程式碼時使用以上語法，並協助轉譯為瀏覽器支援的形式，讓模組化更加方便，同時還能將更多外部資源透過安裝 loader 的方式載入，例如 babel / scss 等，更方便的幫助新舊語法轉換以及資源整合。

使用 webpack 時會有兩個檔案夾分別放置打包前後的檔案 :

- src : 放置打包前已經拆成各模組區塊的原始程式碼檔案或其他資源的檔案。
- dist : 放置打包後的檔案，src 中的所有檔案經過打包後統整為 main.js 的檔案置於此資料夾中。

我們會在根目錄建立名為 `webpack.config.js` 的設定檔，裡面也可以設定各自定義路徑，以及打包後的 mode模式 : 

- `mode: 'production'` (開發完成的產品模式，經過類似 uglify 後會壓縮成較小的檔案，但難以閱讀)
- `mode: 'development'` (開發中模式，檔案大小較 `production` 大，但比較易懂)

另外常用的開發設定還有以下兩個 : 

- devserver : 能夠自動化偵測檔案的更新並打包，不用透過自行輸入 `npm run build` 語法，即時在瀏覽器上看到修正後的前端畫面
- sourcemap : 在 `mode: 'development'` 的前提下，能夠讓 devtool 中偵錯導向回原始程式碼，在 debug 時能知道問題程式碼的來源。



#### 可以不用webpack嗎？

根據專案規模的大小和方向，webpack 是工具使用的其中一個選擇。當今天一個專案的需求並不是打包模組化的程式碼，而是有許多 task (任務) ，或是專案本身是具有多元任務的網站時，需要的便不是 webpack。

## gulp 跟 webpack 有什麼不一樣？

- GULP : 任務管理工具 ( task manager )
  - 可以用在更多元的地方，task can be anything
  - 程式化的管理任務，任務可能是 : 清空桌面 / 圖片壓縮 / 寄email 等等等
  - 本身做不到 bondle ( 除非 plugin )
- webpack : 模組整合工具 ( module bondler )
  - 將模組化程式碼打包成一個可在瀏覽器上使用的檔案
  - 瀏覽器原本沒有支援的語法，可以經過 bundle 後就可以支援
  - 無法做到某些自訂功能 (例如 gulp 的多元任務 )，主要就是打包(bundle)
  - 原本只能打包 Javascript ，但經過 loader 將第三方資源載入，就可以透過 webpack 打包
  - loader 的過程可能不是單線化的，例如 sass-loader 前要先經過 style-loader 及 css-loader


## CSS Selector 權重的計算方式為何？

CSS 權重計算的權級分成三級，權重由高至低排列如下 : 

1.  `#id` : ID 選擇器 (三星等級，`1-0-0`)
2.  `.class` : 類別選擇器、`[attr]` : 屬性選擇器、`:hover` : 偽類選擇器 (二星等級，`0-1-0`)
3. `a` : 元素選擇器、`::before` : 偽元素選擇器 (一星等級，`0-0-1`)
4. `*` : 此類沒有權級 (零星)

但各選擇器還能互相搭配使用，因此有更細的權級計算分類，由高至低排列如下 : ㄝ

1. `!important` : 不參與 specificity 的計算，跳脫等級的概念，直接擁有權重以上的更高級別。

   (五星等級，`1-0-0-0-0`)

2. `inline style` CSS 行內樣式 : 在 html 中的 `style=""` 直接設定，會覆蓋 css 的設定，因此也是較高級別。(四星等級，`1-0-0-0`)

3. 選擇器的數量 :

   1. 等級高的選擇器會比較數量，多者權重較高 ( `1-0-0` v.s `2-0-0 ` )
   2. 等級高的選擇器數量一樣，則後方有帶等級較低選擇器的權重較高 ( `1-1-0` v.s `1-0-0 ` )
   3. 等級較低的選擇器也會比較數量，等級高選擇器後帶有的等級低選擇器數量多寡會影響權重判斷( `1-9-0` v.s `1-5-0 ` )

等級之間無法疊加超越(不是十進位制 ! ) ，二星等級累積了 11 個也不會權重超越一星等級。

