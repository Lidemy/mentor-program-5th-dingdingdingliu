## 什麼是 DNS？Google 有提供的公開的 DNS，對 Google 的好處以及對一般大眾的好處是什麼？

#### 什麼是DNS ?

DNS，網域名稱系統，能將可讀取的網域名稱 ( Domain Name, 例如 : www.google.com ) 和 機器可識的 IP 位置( IP Adress,  例如 192.0.2.44 ) 互相轉換。當我們在網址打上一個網域名稱時，便是在使用 DNS 服務。

這次使用的 AWS 遠端主機，是使用 IPv4，也就是以四串數字組合而成的 IP位置。另外常用的還有 IPv6，即意指六串數字的組合。

當我們輸入網域名稱時，瀏覽器就會向 DNS伺服器傳送 request ，得知網域名稱所指向的 IP 位置，接著我們才可以載入網頁。

#### GOOGLE PUBLIC DNS

原本網路使用者在使用 DNS 服務時，根據地區、服務商等不同，會連到不同的 DNS 伺服器，但不同伺服器的效率和與使用者的距離，其實會影響到瀏覽網站的速度；或者當 DNS 更新時，有可能會需要渡過更新無法連上網站的小段時間。

GOOGLE 在 2009 年推出公開的 DNS 服務，使用者在電腦上設定後，據 GOOGLE 方表示，使用者使用這項服務，能夠加速上網效率及速度，感受更好的使用體驗，並且重視域名服務的安全問題，可抵禦快取汙染與阻斷服務。

至於 GOOGLE 推出這個服務對其企業的好處，有人推測是對使用者的網路行為有更多掌握，能夠對搜尋引擎提供更具體精準的數據來源，幫助其品牌在其他商業行為上取得優勢。

## 什麼是資料庫的 lock？為什麼我們需要 lock？

#### 資料庫 LOCK

一種對於資料庫存取的保護機制，可以根據使用資料庫的不同需求，針對資料列、頁面或資料表進行鎖定，被鎖定的資料會排除多筆 request 同時操作的情形，當有一個以上的操作時，需要按順序進行。

不過當被鎖定的範圍越大的時候，多筆操作行為需要等待的時間跟可能性越大，有可能會造成效能的耗損，因為無法進行其他操作，會造成資料庫停擺。

#### 為什麼需要 LOCK

在交易等情況中，可能會有多個 request 的對象都是同一筆資料；或是多筆交易在資料讀取及寫入 ( 即交易過程 ) 的時候會互相影響，導致資料出錯，例如導致商品超賣。此時維持交易的一致性 ( consistency ) 及隔離性 ( isolation )，我們就需要對資料庫進行 LOCK，LOCK 的範圍最小從單筆資料，最大到整個資料庫，看情況所需來設定。



## NoSQL 跟 SQL 的差別在哪裡？

- SQL : Structured Query Language，結構式查詢語言，針對資料庫數據進行調閱、儲存、或更新等操作目的。

- NoSQL : Not Only SQL。

提到兩者的差別，最主要就是關聯式資料庫與非關聯式資料庫的區別。

#### 關聯性資料庫 ( DNBMS )

是有明確定義資料架構的資料表，每筆資料擁有一組唯一的索引鍵，且資料欄位具有指定屬性設定。關聯式資料庫可以跨表儲存相關訊息，並用 join 語法將不同表格用相關欄位連結起來，即所謂其關聯特性。

由於資料架構是固定的，因此在資料表的設計上要事先考慮，並且存入的資料須要符合欄位設定，是制式化但明確的資料庫類型。

因為資料表彼此之間有關聯性的關係， Schema (翻譯成架構、模式或是綱要) 的重要性很高，在設想表之間如何關聯，欄位如何存放，才能讓資料表有良好運用。

關聯式資料庫在 transaction 上有必須保持的正確性，因此需要具備四個特性，合稱為 **ACID**。

#### 非關聯性資料庫

相對於關聯式資料庫，沒有特定的結構，用 key-value 的結構來儲存，因此也可以想像成 JSON 格式存進 Database。

資料的內容可以彈性擴充，沒有一定格式，通常用來存結構不固定的資料。

由於以上的特性，NoSQL 不支援 join 語法，而且結構不固定的特色也不支持關聯式的資料方式，因為沒有特定的資料庫設計讓彼此之前有明確的相依關係，意指這樣的需求在非關聯式資料庫是不需要的。

適合的需求是當資料的主要是針對特定人事物的狀態變化，且變動非常大量頻繁，就無法使用結構固定的資料庫，NoSQL 便針對這種需求因應而生。

相對於關聯式資料庫所需的 ACID，NoSQL 難以保證，且常用在分散式的儲存環境 ( 不同主機 )，則更重視 **CAP**。

資料查到這邊，也想簡單紀錄一下 CAP 的基本定義: 

C : Consistency，一致性，Client 進行操作得到的數據永遠是最近一次寫入的數據，要求對其讀寫的一致性。

A : Availability，可用性，Client 的 request 在限定時間內總能從非故障的系統節點得到正常的響應，不能超時，不能出錯。

P : Partition Tolerance，分區容錯性，當節點間無法正常通信，數據同步出現延遲情況時，系統仍能繼續提供服務。

根據查到的圖片中顯示，以上三個特性中僅能夠同時滿足兩種。在應用時，先了解需求，確認哪個特性是更重要的，也是重要的一環

<img src="https://codertw.com/wp-content/uploads/img/Ynsps2V17F.jpg" style="zoom: 33%;" />




## 資料庫的 ACID 是什麼？

#### ACID

關聯式資料庫為保持 transaction 的正確性，必須具備以下四個特性，合稱 ACID。

A : 原子性 atomicity : 互相相關的交易 ( 例如買家扣款，賣家收款 / 一次購買多樣商品 )，只能有統一的成敗，全部成功或者全部失敗。如果當中出現錯誤，會回滾讓狀態回到交易之前，即全部失敗，不會有單方面成功，或一次性的多筆交易中部份成功的情況發生。

C : 一致性 consistency : 維持資料的一致性 ( 例如交易雙方擁有的金額總數相同 )，類似「物質守恆」，意指在交易時，交易雙方所產生金額正負前後，金額總額不變。

I : 隔離性 isolation : 多筆交易不會互相影響 ( 例如不能同時改一個值 )，防止多筆交易之間產生的交叉影響。

D : 持久性 durability : 交易處理結束後，寫入的資料會永久存在，對數據的修改不會消失。